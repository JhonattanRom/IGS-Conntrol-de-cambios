<div>	
  <mat-card class="mat-elevation-z12">	
    <mat-card-title style="text-align:center;">Actualizar planificacion de control de cambio</mat-card-title>
        <mat-card-content>
			<mat-horizontal-stepper [linear]="isLinear" #stepper>
<!--Formulario para los datos generales-->				
			  <mat-step [stepControl]="firstFormGroup">
			    <form [formGroup]="firstFormGroup">
			      <ng-template matStepLabel>Datos generales</ng-template>

<!--Id_Responsable del usuario-->
                    <mat-form-field>
                      <mat-label>Seleccione un Responsable</mat-label>
                      <mat-select  [(value)]="controlCambio.Id_responsable"  required formControlName="Id_Responsable">
                        <mat-option  [value]="">
                          ...
                        </mat-option>
                        <mat-option *ngFor="let empleado of usuarios" [value]="empleado.Id_Usuario">
                          {{empleado.Nombre_Usuario}} {{empleado.Apellido_Usuario}} {{empleado.Cedula_Usuario}} ({{empleado.Correo_Usuario}})
                        </mat-option>
                      </mat-select>
                      <mat-error *ngIf="Id_responsable.hasError('required')">Seleccione un cargo de usuario</mat-error>
                      <mat-icon matSuffix>supervised_user_circle</mat-icon>
                    </mat-form-field>
<!--Seleccion de fecha de Inicio-->
				    <mat-form-field class="example-full-width">
				      <input [(ngModel)]="controlCambio.Fecha_Inicio" matInput [min]="controlCambio.createdAt"  [matDatepicker]="Fecha_Inicio" placeholder="Seleccione la fecha de Inicio" required formControlName="fechaInicioCtrl" (dateInput)="addEvent('input', $event)" (dateChange)="addEvent('change', $event)">
				      
				      <mat-datepicker-toggle matSuffix [for]="Fecha_Inicio"></mat-datepicker-toggle>
				      <mat-datepicker #Fecha_Inicio   ></mat-datepicker>

				    </mat-form-field>
<!--Seleccion de fecha de Final-->
				    <mat-form-field class="example-full-width" *ngIf = "Sableye == false" >
				      <input  [(ngModel)]="controlCambio.Fecha_Final" name="Fecha_Final" matInput 
				      [min]="controlCambio.Fecha_Inicio"  [matDatepicker]="picker" placeholder="Seleccione la fecha de Finalizacion"  formControlName="fechaFinalCtrl" >
				      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
				      <mat-datepicker #picker ></mat-datepicker>
				    </mat-form-field>
			      <div class="btnStepper">
			      	<!--
			      		<button mat-button matStepperNext>Siguiente</button>
			      	-->
			        <button mat-button matStepperNext>nexito</button>
			        <button mat-raised-button color="primary" (click)="move(1)">Siguiente</button>
			      </div>
			    </form>
			  </mat-step>
<!--Formulario para el Personal-->
			  <mat-step [stepControl]="secondFormGroup" completed=true>
			    <form [formGroup]="secondFormGroup">
			      <ng-template matStepLabel >Seleccion de equipo de trabajo</ng-template>
					<mat-grid-list cols="4" rowHeight="70px">
  <mat-grid-tile
      [colspan]="2"
      [rowspan]="1"
      >
    <mat-form-field>
		<!--(keyup)="applyFilter($event.target.value)" evento para el filtro-->
  		<input matInput 
  		          name="buscador"
                  ngModel
                  
                  formControlName="buscador"
                  (keyup)="applyFilter($event.target.value)" 
                  placeholder="Buscar ...">
	</mat-form-field>
  </mat-grid-tile>
</mat-grid-list>
					<table mat-table [dataSource]="dataSource" class="mat-elevation-z4">

					  <!--- Note that these columns can be defined in any order.
					        The actual rendered columns are set as a property on the row definition" -->

					  <!-- Position Column -->
					  <ng-container matColumnDef="Nombre">
					    <th mat-header-cell *matHeaderCellDef> Nombre </th>
					    <td mat-cell *matCellDef="let usuario"> {{usuario.Nombre_Usuario}} </td>
					  </ng-container>

					  <!-- Name Column -->
					  <ng-container matColumnDef="Apellido">
					    <th mat-header-cell *matHeaderCellDef> apellido </th>
					    <td mat-cell *matCellDef="let usuario"> {{usuario.Apellido_Usuario}} </td>
					  </ng-container>

					  <!-- Weight Column -->
					  <ng-container matColumnDef="Correo">
					    <th mat-header-cell *matHeaderCellDef> correo </th>
					    <td mat-cell *matCellDef="let usuario"> {{usuario.Correo_Usuario}} </td>
					  </ng-container>
					  <!-- Symbol Column -->
					  <ng-container matColumnDef="Cargo">
					    <th mat-header-cell *matHeaderCellDef> Cargo </th>
					    <td mat-cell *matCellDef="let usuario"> {{usuario.Cargo}} </td>
					  </ng-container>
					   <!-- Symbol Column -->
					  <ng-container matColumnDef="Seleccionar">
					    <th mat-header-cell *matHeaderCellDef> Seleccionar </th>
					    <td mat-cell  *matCellDef="let usuario"> <mat-checkbox  [(ngModel)]="usuario.check" [ngModelOptions]="{standalone: true}"  color="primary" name="CheckUser{{usuario.Id_Usuario}}">Seleccionar</mat-checkbox> </td>
					  </ng-container>

					  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
					  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
					</table>
<mat-paginator class="paginacion"[pageSizeOptions]="[3, 5]" showFirstLastButtons></mat-paginator>


			      <div class="btnStepper">
			      	<button mat-raised-button color="primary" (click)="move(0)">Atras</button>
  					<button mat-raised-button color="primary" (click)="moveOptionalEquipo(2)">Siguiente</button>
			        
			       <!--
<button mat-button matStepperNext (click)="ReunirEquipo()">Next</button>
<button mat-button matStepperPrevious>Back</button>
			        <button mat-button matStepperNext>Siguiente</button>
			        <button (click)="goForward(clientes)" type="button">Next</button>
			       -->
			      </div>

			    </form>
			  </mat-step>
			  <mat-step [stepControl]="TherdFormGroup" completed=true #clientes>
			    <form [formGroup]="TherdFormGroup">
			      <ng-template matStepLabel> Seleccion del Clientes</ng-template>

<!--'Nombre', 'Sucursal', 'Telefono', "Seleccionar"-->
					<mat-grid-list cols="4" rowHeight="70px">
  <mat-grid-tile
      [colspan]="2"
      [rowspan]="1"
      >
    <mat-form-field>
		<!--(keyup)="applyFilter($event.target.value)" evento para el filtro-->
  		<input matInput 
  		          name="buscador2"
                  ngModel
                  
                  formControlName="buscador2"
                  (keyup)="applyFilter2($event.target.value)" 
                  placeholder="Buscar ...">
	</mat-form-field>
  </mat-grid-tile>
</mat-grid-list>
					<table mat-table [dataSource]="dataSource2" class="mat-elevation-z4">

						  <!--- Note that these columns can be defined in any order.
						        The actual rendered columns are set as a property on the row definition" -->

						  <!-- Positionsss Column -->
						  <ng-container matColumnDef="Nombre">
						    <th mat-header-cell *matHeaderCellDef> Nombre Empresa</th>
						    <td mat-cell *matCellDef="let clientes"> {{clientes.Empresa}} </td>
						  </ng-container>

						  <!-- Name Column -->
						  <ng-container matColumnDef="Sucursal">
						    <th mat-header-cell *matHeaderCellDef> Sucursal </th>
						    <td mat-cell *matCellDef="let clientes"> {{clientes.Nombre_sucursal}} </td>
						  </ng-container>

						  <!-- Weight Column -->
						  <ng-container matColumnDef="Telefono">
						    <th mat-header-cell *matHeaderCellDef> Telefono </th>
						    <td mat-cell *matCellDef="let clientes"> {{clientes.Telefono_sucursal}} </td>
						  </ng-container>
						   <!-- Symbol Column -->
						  <ng-container matColumnDef="Seleccionar">
						    <th mat-header-cell *matHeaderCellDef> Seleccionar </th>
						    <td mat-cell  *matCellDef="let clientes"> <mat-checkbox  [(ngModel)]="clientes.check" [ngModelOptions]="{standalone: true}"  color="primary" name="CheckUser{{clientes.Id_Usuario}}">Seleccionar</mat-checkbox> </td>
						  </ng-container>

						  <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
						  <tr mat-row *matRowDef="let row; columns: displayedColumns2;"></tr>
					</table>
<mat-paginator #SucursalPaginator class="paginacion"[pageSizeOptions]="[1, 5]" showFirstLastButtons></mat-paginator>


			      <div class="btnStepper">
			        <button mat-raised-button color="primary" (click)="move(1)">Atras</button>
  					<button mat-raised-button color="primary" (click)="moveOptionalClientes(3)">Siguiente</button>
			      </div>
			    </form>
			  </mat-step>
			  <mat-step>
			    <ng-template matStepLabel>Terminar</ng-template>
			    <p  style="text-align:center;">Guardar cambios planificados?</p>
			    <div class="btnStepper">
			      <button (click)="EditarPlanificacion()"
	                mat-raised-button
	                color="primary"
	                class="login-button">
	                Editar Planificacion
    			  </button>

			      <button mat-raised-button matStepperPrevious class="login-button">Anterior</button>
			      
			    </div>
			  </mat-step>
			</mat-horizontal-stepper>
<!--
<div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="6px">
  <button mat-raised-button color="primary" (click)="move(0)">1st</button>
  <button mat-raised-button color="primary" (click)="moveOptional(1)">2nd</button>
  <button mat-raised-button color="primary" (click)="moveOptional(2)">3rd</button>
  <button mat-raised-button color="primary" (click)="move(3)">4th</button>

  <button mat-raised-button (click)="stepper.reset()" color="warn" class="login-button">Reiniciar</button>
</div>
-->
		</mat-card-content>
  </mat-card>
  <!--<pre>{{usuarios|json}}</pre>-->
</div>

