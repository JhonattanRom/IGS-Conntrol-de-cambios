<section class="app-container " >
       <header>
           <mat-toolbar color="primary" class="hi">
              Listado de Usuarios
           </mat-toolbar>
       </header>
</section>
<mat-grid-list cols="4" rowHeight="70px">
  <mat-grid-tile
      [colspan]="2"
      [rowspan]="1"
      >
 	<mat-form-field>
		<!--(keyup)="applyFilter($event.target.value)" evento para el filtro-->
  		<input matInput 
  		          name="buscador"
                  ngModel
                  
                  [(ngModel)]="buscador"
                  (keyup)="applyFilter($event.target.value)" 
                  placeholder="Buscar ...">
	</mat-form-field>
  </mat-grid-tile>
  <mat-grid-tile
      [colspan]="1"
      [rowspan]="1"
      class="selector"
      >
    <mat-form-field>
	  <mat-label>Buscar por estado</mat-label>
	  <mat-select>
	    <mat-option *ngFor="let estado of estados" [value]="estado.value" (click)="mostrarInputs(estado, $event.target.value)">
	      {{estado.viewValue}}
	    </mat-option>
	  </mat-select>	
	</mat-form-field>
  </mat-grid-tile>
  <mat-grid-tile
      [colspan]="1"
      [rowspan]="1"
	  class="btnPlus"
      >
    
	  <a mat-mini-fab color="primary"
	    		matTooltip="Registrar Usuario"
        		matTooltipPosition="above"
        		aria-label="Button that displays a tooltip in various positions"
        		class="agregar"
        		[routerLink]="['/Home/RegistrarUsuario']"><mat-icon mat-list-icon>add</mat-icon>
       </a>
	
  </mat-grid-tile>
</mat-grid-list>


	 
<div class="mat-elevation-z4 tablita">
<table mat-table [dataSource]="dataSource" class="mat-elevation-z4" color="primary">
	  <!--- Note that these columns can be defined in any order.
	        The actual rendered columns are set as a property on the row definition" -->

	  <!-- ID Column -->
	  <ng-container matColumnDef="Id_Usuario">
	    <th mat-header-cell *matHeaderCellDef class="header">ID </th>
	    <td mat-cell *matCellDef="let user"> {{user.Id_Usuario}} </td>
	  </ng-container>

	  <!-- Cedula Column -->
	  <ng-container matColumnDef="Cedula_Usuario">
	    <th mat-header-cell *matHeaderCellDef class="header">Cedula de Identidad </th>
	    <td mat-cell *matCellDef="let user"> {{user.Cedula_Usuario}} </td>
	  </ng-container>

	  <!-- Nombre Column -->
	  <ng-container matColumnDef="Nombre_Usuario">
	    <th mat-header-cell *matHeaderCellDef class="header">Nombre</th>
	    <td mat-cell *matCellDef="let user"> {{user.Nombre_Usuario}} </td>
	  </ng-container>

	  <!-- Apellido Column -->
	  <ng-container matColumnDef="Apellido_Usuario">
	    <th mat-header-cell *matHeaderCellDef class="header">Apellido</th>
	    <td mat-cell *matCellDef="let user"> {{user.Apellido_Usuario}} </td>
	  </ng-container>

	  <!-- Id_Cargo_Usuario Column -->
	  <ng-container matColumnDef="Id_Cargo_Usuario">
	    <th mat-header-cell *matHeaderCellDef class="header">Cargo</th>
	    <td mat-cell *matCellDef="let user"> {{user.Cargo}} </td>
	  </ng-container>

	  <!-- Id_Rol_Usuario Column -->
	  <ng-container matColumnDef="Id_Rol_Usuario">
	    <th mat-header-cell *matHeaderCellDef class="header">Rol</th>
	    <td mat-cell *matCellDef="let user"> {{user.roles.Nombre_Rol}} </td>
	  </ng-container>

	  <!-- Correo_Usuario Column -->
	  <ng-container matColumnDef="Correo_Usuario">
	    <th mat-header-cell *matHeaderCellDef class="header">Correo</th>
	    <td mat-cell *matCellDef="let user"> {{user.Correo_Usuario}} </td>
	  </ng-container>

	  <!-- Estatus Column -->
	  <ng-container matColumnDef="Estado_Usuario">
	    <th mat-header-cell *matHeaderCellDef class="header">Estado </th>
	    <td mat-cell *matCellDef="let user">
	    	<!--Aqui esta en if else de habilitacion de servicios-->

	    	<p *ngIf = "user.Estado_Usuario; else No">Habilitado</p>
	    	<!--{{serv.Estado_servicio}}-->
	    	 
			<ng-template #No>
				<p>Deshabilitado</p> 
			</ng-template> 
			
	    </td>
	    
	  </ng-container>

	  <!--Opciones Column-->
	  <ng-container matColumnDef="Opciones" >
	    <th mat-header-cell *matHeaderCellDef class="header">Opciones </th>
	    <td mat-cell *matCellDef="let user"> 
	    	<a mat-mini-fab color="accent" [routerLink]="['/Home/DatosUsuario', user.Id_Usuario]" style="color:white"
	    		matTooltip="Actualizar Usuario"
        		matTooltipPosition="above"
        		aria-label="Button that displays a tooltip in various positions">
				<mat-icon mat-list-icon>edit</mat-icon>
			</a>
	    		<!--Aqui esta en if else de habilitacion de servicios-->
	    	<a mat-mini-fab color="warn" *ngIf = "user.Estado_Usuario; else Nobtn"
	    		matTooltip="Deshabilitar Usuario"
        		matTooltipPosition="above"
        		(click) = "ClickAlert(user.Estado_Usuario, user.Id_Usuario)"
        		aria-label="Button that displays a tooltip in various positions">
        		<mat-icon mat-list-icon>clear</mat-icon>
        	</a>
	    	<a mat-mini-fab color="primary" *ngIf = "!user.Estado_Usuario" #Nobtn
	    		matTooltip="Habilitar Usuario"
        		matTooltipPosition="above"
        		(click) = "ClickAlert(user.Estado_Usuario, user.Id_Usuario)"
        		aria-label="Button that displays a tooltip in various positions"><mat-icon mat-list-icon>done</mat-icon>
        	</a>
	    </td>
	  </ng-container>
	  <tr mat-header-row *matHeaderRowDef="displayedColumns" class="encabezado"></tr>
	  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr></table>
	  
<mat-paginator class="paginacion"[pageSizeOptions]="[3, 5]" showFirstLastButtons></mat-paginator>
</div>